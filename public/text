<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הצהרת בריאות</title>
    <style>
        :root {
            --primary-color: #BFA07A;
            --secondary-color: #8B4513;
            --background-color: #F2EEEB;
            --text-color: #4A3728;
            --button-color: #BFA07A;
        }
        body {
            font-family: 'Heebo', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            max-width: 100%;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--background-color);
            background-image: url(https://res.cloudinary.com/dshp13fmt/image/upload/v1720516487/cld-sample.jpg);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-blend-mode: lighten;
        }
        .container {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
        }
        h1, h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
        }
        .logo img {
            max-width: 200px;
            display: block;
            margin: 0 auto 30px;
        }
        .form-group {
            margin-bottom: 25px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-color);
        }
        input[type="text"], input[type="number"], input[type="date"], select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--primary-color);
            border-radius: 15px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            background-color: var(--background-color);
        }
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 5px;
        }
        .radio-group label, .checkbox-group label {
            display: flex;
            align-items: center;
            font-weight: normal;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 15px;
        }
        .radio-group input, .checkbox-group input {
            margin-left: 8px;
        }
        .button {
            background-color: var(--button-color);
            color: #fff;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 18px;
            font-weight: 600;
            text-decoration: none;
            display: block;
            margin: 30px auto 0;
            transition: background-color 0.3s ease;
            text-align: center;
        }
        .button:hover {
            background-color: var(--secondary-color);
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="https://res.cloudinary.com/dshp13fmt/image/upload/v1720731987/logo_aydalw.jpg" alt="Logo">
        </div>

        <h1>הצהרת בריאות</h1>

        <form id="healthDeclarationForm">
            <div class="form-group">
                <label for="fullName">שם מלא:</label>
                <input type="text" id="fullName" name="fullName" required>
            </div>

            <div class="form-group">
                <label for="idNumber">מספר ת.ז:</label>
                <input type="text" id="idNumber" name="idNumber" required>
            </div>

            <div class="form-group">
                <label for="age">גיל:</label>
                <input type="number" id="age" name="age" required>
            </div>

            <div class="form-group">
                <label for="birthDate">תאריך לידה:</label>
                <input type="date" id="birthDate" name="birthDate" required>
            </div>

            <div class="form-group">
                <label>מין:</label>
                <div class="radio-group">
                    <label><input type="radio" name="gender" value="male" required onclick="toggleFemaleSection()"> זכר</label>
                    <label><input type="radio" name="gender" value="female" required onclick="toggleFemaleSection()"> נקבה</label>
                </div>
            </div>

            <h2>מצב בריאותי</h2>

            <div class="form-group">
                <label>האם את/ה סובל/ת מהחלמה איטית של פצעים וצלקות בעור?</label>
                <div class="radio-group">
                    <label><input type="radio" name="slowHealing" value="yes" required> כן</label>
                    <label><input type="radio" name="slowHealing" value="no" required> לא</label>
                </div>
            </div>

            <div class="form-group">
                <label>האם את/ה סובל/ת מגירוי בעור?</label>
                <div class="radio-group">
                    <label><input type="radio" name="skinIrritation" value="yes" required> כן</label>
                    <label><input type="radio" name="skinIrritation" value="no" required> לא</label>
                </div>
            </div>

            <div class="form-group">
                <label>האם את/ה סובל/ת מאלרגיה / רגישות ל:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="allergies" value="aspirin"> אספירין</label>
                    <label><input type="checkbox" name="allergies" value="lactose"> לקטוז</label>
                    <label><input type="checkbox" name="allergies" value="gluten"> גלוטן</label>
                    <label><input type="checkbox" name="allergies" value="gold"> זהב</label>
                    <label><input type="checkbox" name="allergies" value="metals"> מתכות</label>
                    <label><input type="checkbox" name="allergies" value="antibiotics"> אנטיביוטיקה</label>
                    <label><input type="checkbox" name="allergies" value="anesthetics"> חומרי אלחוש</label>
                </div>
            </div>

            <div class="form-group">
                <label>האם את/ה סובל/ת מסכרת?</label>
                <div class="radio-group">
                    <label><input type="radio" name="diabetes" value="yes" required> כן</label>
                    <label><input type="radio" name="diabetes" value="no" required> לא</label>
                </div>
            </div>

            <div class="form-group">
                <label>האם את/ה סובל/ת ממחלות לב?</label>
                <div class="radio-group">
                    <label><input type="radio" name="heartDisease" value="yes" required> כן</label>
                    <label><input type="radio" name="heartDisease" value="no" required> לא</label>
                </div>
            </div>

            <div class="form-group">
                <label>האם יש לך קוצב לב/מסתם לב מלאכותי?</label>
                <div class="radio-group">
                    <label><input type="radio" name="pacemaker" value="yes" required> כן</label>
                    <label><input type="radio" name="pacemaker" value="no" required> לא</label>
                </div>
            </div>

            <div class="form-group">
                <label>האם יש לך לחץ דם גבוה או נמוך?</label>
                <div class="radio-group">
                    <label><input type="radio" name="bloodPressure" value="yes" required> כן</label>
                    <label><input type="radio" name="bloodPressure" value="no" required> לא</label>
                </div>
            </div>

            <div class="form-group">
                <label>האם את/ה סובל/ת ממחלה אחרת?</label>
                <div class="radio-group">
                    <label><input type="radio" name="otherDiseases" value="yes" required> כן</label>
                    <label><input type="radio" name="otherDiseases" value="no" required> לא</label>
                </div>
            </div>

            <h2>הרגלים וסגנון חיים</h2>

            <div class="form-group">
                <label>עישון:</label>
                <div class="radio-group">
                    <label><input type="radio" name="smoking" value="yes" required> כן</label>
                    <label><input type="radio" name="smoking" value="no" required> לא</label>
                </div>
            </div>

            <div class="form-group">
                <label>רמת חשיפה לשמש:</label>
                <div class="radio-group">
                    <label><input type="radio" name="sunExposure" value="none" required> כלל לא</label>
                    <label><input type="radio" name="sunExposure" value="moderate" required> בינונית</label>
                    <label><input type="radio" name="sunExposure" value="high" required> גבוהה</label>
                </div>
            </div>

            <div id="femaleOnlySection" class="hidden">
                <h2>לנשים בלבד</h2>

                <div class="form-group">
                    <label>האם את משתמשת בגלולות למניעת הריון?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="birthControlPills" value="yes"> כן</label>
                        <label><input type="radio" name="birthControlPills" value="no"> לא</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>האם המחזור שלך סדיר?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="regularPeriod" value="yes"> כן</label>
                        <label><input type="radio" name="regularPeriod" value="no"> לא</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>האם את בהריון?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="pregnant" value="yes"> כן</label>
                        <label><input type="radio" name="pregnant" value="no"> לא</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>האם את לאחר לידה? (בחצי שנה האחרונה)</label>
                    <div class="radio-group">
                        <label><input type="radio" name="postPartum" value="yes"> כן</label>
                        <label><input type="radio" name="postPartum" value="no"> לא</label>
                    </div>
                </div>

                <div class="form-group">
                    <label>האם את בטיפולי פוריות?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="fertilityTreatments" value="yes"> כן</label>
                        <label><input type="radio" name="fertilityTreatments" value="no"> לא</label>
                    </div>
                </div>
            </div>

            <h2>הצהרת המטופל/ת</h2>

            <p>אני מאשר/ת שכל הפרטים שמילאתי לעיל נכונים ותואמים למצבי הבריאותי נכון ליום מילוי השאלון.</p>

            <p>אני יודע/ת כי עלי לעדכן את הקוסמטיקאית על כל שינוי שחל במצבי הבריאותי</p>

            <div class="form-group">
                <label for="fullNameDeclaration">שם מלא:</label>
                <input type="text" id="fullNameDeclaration" name="fullNameDeclaration" required>
            </div>

            <div class="form-group">
                <label for="idNumber">ת.ז:</label>
                <input type="text" id="idNumber" name="idNumber" required>
            </div>

            <div class="form-group">
                <label for="declarationDate">תאריך:</label>
                <input type="date" id="declarationDate" name="declarationDate" required>
            </div>

            <button type="button" onclick="submitForm()">מאשר/ת את הצהרת הבריאות</button>
        </form>
    </div>

    <script>
        function toggleFemaleSection() {
            const femaleSection = document.getElementById('femaleOnlySection');
            const genderMale = document.querySelector('input[name="gender"][value="male"]');
            femaleSection.style.display = genderMale.checked ? 'none' : 'block';
        }

        function submitForm() {
            const form = document.getElementById('healthDeclarationForm');
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            
            // טיפול מיוחד בתיבות סימון (checkboxes)
            data.allergies = Array.from(formData.getAll('allergies'));
            
            // בדיקה האם כל השדות הנדרשים מולאו
            const requiredFields = form.querySelectorAll('[required]');
            let allFieldsFilled = true;
            requiredFields.forEach(field => {
                if (!field.value) {
                    allFieldsFilled = false;
                    field.style.borderColor = 'red';
                } else {
                    field.style.borderColor = '';
                }
            });

            if (!allFieldsFilled) {
                alert('נא למלא את כל השדות החובה');
                return;
            }

            localStorage.setItem('formData', JSON.stringify(data));
            window.location.href = 'summary.html';
        }

        // קריאה ראשונית לפונקציה כדי להסתיר/להציג את החלק לנשים בלבד בטעינת הדף
        document.addEventListener('DOMContentLoaded', function() {
            toggleFemaleSection();
            
            // הוספת מאזינים לשדות הטופס כדי להסיר את הצבע האדום כאשר הם ממולאים
            const requiredFields = document.querySelectorAll('[required]');
            requiredFields.forEach(field => {
                field.addEventListener('input', function() {
                    if (this.value) {
                        this.style.borderColor = '';
                    }
                });
            });
        });
    </script>
</body>
</html>